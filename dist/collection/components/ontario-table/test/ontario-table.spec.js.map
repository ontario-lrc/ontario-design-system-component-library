{"version":3,"file":"ontario-table.spec.js","sourceRoot":"","sources":["../../../../src/components/ontario-table/test/ontario-table.spec.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,uBAAuB,CAAC;AACpD,OAAO,EAAE,YAAY,EAAE,MAAM,kBAAkB,CAAC;AAEhD,QAAQ,CAAC,eAAe,EAAE,GAAG,EAAE;IAC9B,UAAU,CAAC,GAAG,EAAE;QACf,MAAM,CAAC,cAAc,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC,kBAAkB,CAAC,GAAG,EAAE,CAAC,CAAC;YAC3D,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE;YAClB,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE;YACpB,UAAU,EAAE,IAAI,CAAC,EAAE,EAAE;SACrB,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,oCAAoC,EAAE,GAAG,EAAE;QACnD,EAAE,CAAC,iCAAiC,EAAE,KAAK,IAAI,EAAE;YAChD,MAAM,IAAI,GAAG,MAAM,WAAW,CAAC;gBAC9B,UAAU,EAAE,CAAC,YAAY,CAAC;gBAC1B,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAiCL;aACD,CAAC,CAAC;YAEH,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,eAAe,EAAE,CAAC;QACrC,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,gCAAgC,EAAE,GAAG,EAAE;QAC/C,EAAE,CAAC,iCAAiC,EAAE,KAAK,IAAI,EAAE;YAChD,MAAM,IAAI,GAAG,MAAM,WAAW,CAAC;gBAC9B,UAAU,EAAE,CAAC,YAAY,CAAC;gBAC1B,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAuEL;aACD,CAAC,CAAC;YAEH,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,eAAe,EAAE,CAAC;QACrC,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,8CAA8C,EAAE,GAAG,EAAE;QAC7D,EAAE,CAAC,iCAAiC,EAAE,KAAK,IAAI,EAAE;YAChD,MAAM,IAAI,GAAG,MAAM,WAAW,CAAC;gBAC9B,UAAU,EAAE,CAAC,YAAY,CAAC;gBAC1B,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAuJL;aACD,CAAC,CAAC;YAEH,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,eAAe,EAAE,CAAC;QACrC,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC","sourcesContent":["import { newSpecPage } from '@stencil/core/testing';\nimport { OntarioTable } from '../ontario-table';\n\ndescribe('ontario-table', () => {\n\tbeforeEach(() => {\n\t\tglobal.ResizeObserver = jest.fn().mockImplementation(() => ({\n\t\t\tobserve: jest.fn(),\n\t\t\tunobserve: jest.fn(),\n\t\t\tdisconnect: jest.fn(),\n\t\t}));\n\t});\n\n\tdescribe('snapshot - 3 columns (non-numeric)', () => {\n\t\tit('should render the expected html', async () => {\n\t\t\tconst page = await newSpecPage({\n\t\t\t\tcomponents: [OntarioTable],\n\t\t\t\thtml: `\n\t\t\t\t<ontario-table\n\t\t\t\t\tcaption=\"Marriage certificate: cost and delivery\"\n\t\t\t\t\ttable-columns='[\n\t\t\t\t\t\t{ \"title\": \"Type of service\", \"key\": \"service\" },\n\t\t\t\t\t\t{ \"title\": \"Processing and delivery\", \"key\": \"processing\" },\n\t\t\t\t\t\t{ \"title\": \"Cost\", \"key\": \"cost\", \"type\": \"numeric\" }\n\t\t\t\t\t]'\n\t\t\t\t\ttable-data='[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"service\": \"Regular service (online)\",\n\t\t\t\t\t\t\t\t\"processing\": \"15 business days plus delivery by Canada Post\",\n\t\t\t\t\t\t\t\t\"cost\": \"$15\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"service\": \"Premium service (online)\",\n\t\t\t\t\t\t\t\t\"cost\": \"$45\",\n\t\t\t\t\t\t\t\t\"processing\": \"5 business days including delivery by courier\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"processing\": \"5 business days including delivery by courier (proof of urgency is required)\",\n\t\t\t\t\t\t\t\t\"service\": \"Emergency service (in-person)\",\n\t\t\t\t\t\t\t\t\"cost\": \"$45\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]'\n\t\t\t\t>\n\t\t\t\t</ontario-table>\n\t\t\t\t`,\n\t\t\t});\n\n\t\t\texpect(page.root).toMatchSnapshot();\n\t\t});\n\t});\n\n\tdescribe('snapshot - 5 columns (numeric)', () => {\n\t\tit('should render the expected html', async () => {\n\t\t\tconst page = await newSpecPage({\n\t\t\t\tcomponents: [OntarioTable],\n\t\t\t\thtml: `\n\t\t\t\t<ontario-table\n\t\t\t\t\tcaption=\"Number of engagement sessions by business area from 2016–2020\"\n\t\t\t\t\tzebra-stripes=\"enabled\"\n\t\t\t\t\ttable-columns='[\n\t\t\t\t\t\t{ \"title\": \"Business area\", \"key\": \"business\" },\n\t\t\t\t\t\t{ \"title\": \"April 2016 – March 2017\", \"key\": \"date1\", \"type\": \"numeric\" },\n\t\t\t\t\t\t{ \"title\": \"April 2017 - March 2018\", \"key\": \"date2\", \"type\": \"numeric\" },\n\t\t\t\t\t\t{ \"title\": \"April 2018 - March 2019\", \"key\": \"date3\", \"type\": \"numeric\" },\n\t\t\t\t\t\t{ \"title\": \"April 2019 - March 2020\", \"key\": \"date4\", \"type\": \"numeric\" }\n\t\t\t\t\t]'\n\t\t\t\t\ttable-data='[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"business\": \"Aggregates and petroleum\",\n\t\t\t\t\t\t\t\t\"date1\": \"35\",\n\t\t\t\t\t\t\t\t\"date2\": \"32\",\n\t\t\t\t\t\t\t\t\"date3\": \"45\",\n\t\t\t\t\t\t\t\t\"date4\": \"71\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"business\": \"Fish and wildlife\",\n\t\t\t\t\t\t\t\t\"date1\": \"162\",\n\t\t\t\t\t\t\t\t\"date2\": \"240\",\n\t\t\t\t\t\t\t\t\"date3\": \"178\",\n\t\t\t\t\t\t\t\t\"date4\": \"162\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\": {\n\t\t\t\t\t\t\t\t\"business\": \"Forestry\",\n\t\t\t\t\t\t\t\t\"date1\": \"182\",\n\t\t\t\t\t\t\t\t\"date2\": \"170\",\n\t\t\t\t\t\t\t\t\"date3\": \"235\",\n\t\t\t\t\t\t\t\t\"date4\": \"242\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"highlight\": \"true\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\": {\n\t\t\t\t\t\t\t\t\"business\": \"Lands and water\",\n\t\t\t\t\t\t\t\t\"date1\": \"79\",\n\t\t\t\t\t\t\t\t\"date2\": \"101\",\n\t\t\t\t\t\t\t\t\"date3\": \"42\",\n\t\t\t\t\t\t\t\t\"date4\": \"70\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\": {\n\t\t\t\t\t\t\t\t\"business\": \"General\",\n\t\t\t\t\t\t\t\t\"date1\": \"56\",\n\t\t\t\t\t\t\t\t\"date2\": \"37\",\n\t\t\t\t\t\t\t\t\"date3\": \"64\",\n\t\t\t\t\t\t\t\t\"date4\": \"46\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ \n\t\t\t\t\t\t\t\"data\": {\n\t\t\t\t\t\t\t\t\"business\": \"Total row\",\n\t\t\t\t\t\t\t\t\"date1\": \"514\",\n\t\t\t\t\t\t\t\t\"date2\": \"580\",\n\t\t\t\t\t\t\t\t\"date3\": \"564\",\n\t\t\t\t\t\t\t\t\"date4\": \"591\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"footer\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t]'\n\t\t\t\t>\n\t\t\t\t</ontario-table>\n\t\t\t\t`,\n\t\t\t});\n\n\t\t\texpect(page.root).toMatchSnapshot();\n\t\t});\n\t});\n\n\tdescribe('snapshot - 7 columns (numeric and condensed)', () => {\n\t\tit('should render the expected html', async () => {\n\t\t\tconst page = await newSpecPage({\n\t\t\t\tcomponents: [OntarioTable],\n\t\t\t\thtml: `\n\t\t\t\t<ontario-table\n\t\t\t\t\tcaption=\"Operating expense\"\n\t\t\t\t\tcondensed=\"true\"\n\t\t\t\t\ttable-columns='[\n\t\t\t\t\t\t{ \"title\": \"Votes/Programs\", \"key\": \"program\", \"colSpan\": 2 },\n\t\t\t\t\t\t{ \"title\": \"Estimates 2020-21 $\", \"key\": \"column1\", \"type\": \"numeric\" },\n\t\t\t\t\t\t{ \"title\": \"Change from estimates 2019-20 $\", \"key\": \"column2\", \"type\": \"numeric\" },\n\t\t\t\t\t\t{ \"title\": \"Change from estimates 2019-20 %\", \"key\": \"column3\", \"type\": \"numeric\" },\n\t\t\t\t\t\t{ \"title\": \"Estimates 2019-20 $\", \"key\": \"column4\", \"type\": \"numeric\" },\n\t\t\t\t\t\t{ \"title\": \"Interim actuals 2019-20 $\", \"key\": \"column5\", \"type\": \"numeric\" },\n\t\t\t\t\t\t{ \"title\": \"Actuals 2018-19 $\", \"key\": \"column6\", \"type\": \"numeric\"}\n\t\t\t\t\t]'\n\t\t\t\t\ttable-data='[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"program\": \"Ministry administration\",\n\t\t\t\t\t\t\t\t\"column1\": \"16,147,000\",\n\t\t\t\t\t\t\t\t\"column6\": \"20,683,313\",\n\t\t\t\t\t\t\t\t\"column2\": \"1,388,600\",\n\t\t\t\t\t\t\t\t\"column3\": \"9.4\",\n\t\t\t\t\t\t\t\t\"column4\": \"14,758,400\",\n\t\t\t\t\t\t\t\t\"column5\": \"17,470,200\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"program\": \"Postsecondary education\",\n\t\t\t\t\t\t\t\t\"column1\": \"6,455,038,100\",\n\t\t\t\t\t\t\t\t\"column4\": \"6,586,779,600\",\n\t\t\t\t\t\t\t\t\"column2\": \"(131,741,500)\",\n\t\t\t\t\t\t\t\t\"column3\": \"(2.0)\",\n\t\t\t\t\t\t\t\t\"column5\": \"6,491,779,600\",\n\t\t\t\t\t\t\t\t\"column6\": \"7,398,858,795\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"program\": \"Research program\",\n\t\t\t\t\t\t\t\t\"column1\": \"187,399,200\",\n\t\t\t\t\t\t\t\t\"column2\": \"(1,290,400)\",\n\t\t\t\t\t\t\t\t\"column3\": \"(0.7)\",\n\t\t\t\t\t\t\t\t\"column4\": \"188,689,600\",\n\t\t\t\t\t\t\t\t\"column5\": \"188,689,600\",\n\t\t\t\t\t\t\t\t\"column6\": \"174,629,399\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"program\": \"Total operating expense to be voted\",\n\t\t\t\t\t\t\t\t\"column1\": \"6,658,584,300\",\n\t\t\t\t\t\t\t\t\"column2\": \"(131,643,300)\",\n\t\t\t\t\t\t\t\t\"column3\": \"(1.9)\",\n\t\t\t\t\t\t\t\t\"column4\": \"6,790,227,600\",\n\t\t\t\t\t\t\t\t\"column5\": \"6,697,939,400\",\n\t\t\t\t\t\t\t\t\"column6\": \"7,594,171,507\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"program\": \"Statutory appropriations\",\n\t\t\t\t\t\t\t\t\"column1\": \"55,106,014\",\n\t\t\t\t\t\t\t\t\"column2\": \"0\",\n\t\t\t\t\t\t\t\t\"column3\": \"0\",\n\t\t\t\t\t\t\t\t\"column4\": \"55,106,014\",\n\t\t\t\t\t\t\t\t\"column5\": \"55,106,014\",\n\t\t\t\t\t\t\t\t\"column6\": \"36,264,081\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ \n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"program\": \"Ministry total operating expense\",\n\t\t\t\t\t\t\t\t\"column1\": \"6,713,690,314\",\n\t\t\t\t\t\t\t\t\"column2\": \"(131,643,300)\",\n\t\t\t\t\t\t\t\t\"column3\": \"(1.9)\",\n\t\t\t\t\t\t\t\t\"column4\": \"6,845,333,614\",\n\t\t\t\t\t\t\t\t\"column5\": \"6,753,045,414\",\n\t\t\t\t\t\t\t\t\"column6\": \"7,630,435,588\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"subtotal\": \"true\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"program\": \"Consolidation & other Adjustments - Colleges\",\n\t\t\t\t\t\t\t\t\"column1\": \"3,504,321,700\",\n\t\t\t\t\t\t\t\t\"column2\": \"210,997,500\",\n\t\t\t\t\t\t\t\t\"column3\": \"6.4\",\n\t\t\t\t\t\t\t\t\"column4\": \"3,293,324,200\",\n\t\t\t\t\t\t\t\t\"column5\": \"3,269,671,700\",\n\t\t\t\t\t\t\t\t\"column6\": \"2,961,027,351\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"program\": \"Operating expense adjustment - Student assistance interest expense reclassification\",\n\t\t\t\t\t\t\t\t\"column1\": \"(48,979,900)\",\n\t\t\t\t\t\t\t\t\"column2\": \"0\",\n\t\t\t\t\t\t\t\t\"column3\": \"0\",\n\t\t\t\t\t\t\t\t\"column4\": \"(48,979,900)\",\n\t\t\t\t\t\t\t\t\"column5\": \"(48,979,900)\",\n\t\t\t\t\t\t\t\t\"column6\": \"(33,055,246)\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"program\": \"Consolidation & other adjustments - Hospitals\",\n\t\t\t\t\t\t\t\t\"column1\": \"(9,886,600)\",\n\t\t\t\t\t\t\t\t\"column2\": \"5,107,400\",\n\t\t\t\t\t\t\t\t\"column3\": \"123\",\n\t\t\t\t\t\t\t\t\"column4\": \"(14,994,000)\",\n\t\t\t\t\t\t\t\t\"column5\": \"(15,005,000)\",\n\t\t\t\t\t\t\t\t\"column6\": \"(15,193,844)\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"program\": \"Consolidation & other adjustments - Hospitals\",\n\t\t\t\t\t\t\t\t\"column1\": \"(9,886,600)\",\n\t\t\t\t\t\t\t\t\"column2\": \"5,107,400\",\n\t\t\t\t\t\t\t\t\"column3\": \"150\",\n\t\t\t\t\t\t\t\t\"column4\": \"(14,994,000)\",\n\t\t\t\t\t\t\t\t\"column5\": \"(15,005,000)\",\n\t\t\t\t\t\t\t\t\"column6\": \"(15,193,844)\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"program\": \"Consolidation & other adjustments - General real estate portfolio\",\n\t\t\t\t\t\t\t\t\"column1\": \"(5,904,600)\",\n\t\t\t\t\t\t\t\t\"column2\": \"(5,686,900)\",\n\t\t\t\t\t\t\t\t\"column3\": \"172\",\n\t\t\t\t\t\t\t\t\"column4\": \"(217,700)\",\n\t\t\t\t\t\t\t\t\"column5\": \"(15,005,000)\",\n\t\t\t\t\t\t\t\t\"column6\": \"(189,337)\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\" : {\n\t\t\t\t\t\t\t\t\"program\": \"Total including consolidation & other adjustments\",\n\t\t\t\t\t\t\t\t\"column1\": \"10,153,240,914\",\n\t\t\t\t\t\t\t\t\"column2\": \"78,774,700\",\n\t\t\t\t\t\t\t\t\"column3\": \"0.80\",\n\t\t\t\t\t\t\t\t\"column4\": \"10,074,466,214\",\n\t\t\t\t\t\t\t\t\"column5\": \"9,958,732,214\",\n\t\t\t\t\t\t\t\t\"column6\": \"10,543,024,512\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"footer\": true\n\t\t\t\t\t\t}\n\t\t\t\t\t]'\n\t\t\t\t>\n\t\t\t\t</ontario-table>\n\t\t\t\t`,\n\t\t\t});\n\n\t\t\texpect(page.root).toMatchSnapshot();\n\t\t});\n\t});\n});\n"]}