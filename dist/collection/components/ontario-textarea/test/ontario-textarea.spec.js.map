{"version":3,"file":"ontario-textarea.spec.js","sourceRoot":"","sources":["../../../../src/components/ontario-textarea/test/ontario-textarea.spec.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,uBAAuB,CAAC;AACpD,OAAO,EAAE,eAAe,EAAE,MAAM,qBAAqB,CAAC;AAEtD,QAAQ,CAAC,kBAAkB,EAAE,GAAG,EAAE;IACjC,QAAQ,CAAC,UAAU,EAAE,GAAG,EAAE;QACzB,EAAE,CAAC,iCAAiC,EAAE,KAAK,IAAI,EAAE;YAChD,MAAM,IAAI,GAAG,MAAM,WAAW,CAAC;gBAC9B,UAAU,EAAE,CAAC,eAAe,CAAC;gBAC7B,IAAI,EAAE,2IAA2I;aACjJ,CAAC,CAAC;YAEH,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,eAAe,EAAE,CAAC;QACrC,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,QAAQ,EAAE,GAAG,EAAE;QACvB,EAAE,CAAC,0CAA0C,EAAE,KAAK,IAAI,EAAE;YACzD,MAAM,IAAI,GAAG,MAAM,WAAW,CAAC;gBAC9B,UAAU,EAAE,CAAC,eAAe,CAAC;gBAC7B,IAAI,EAAE,2IAA2I;aACjJ,CAAC,CAAC;YACH,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC;;;;;;;;;;;;;;IAc7B,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2CAA2C,EAAE,KAAK,IAAI,EAAE;YAC1D,MAAM,IAAI,GAAG,MAAM,WAAW,CAAC;gBAC9B,UAAU,EAAE,CAAC,eAAe,CAAC;gBAC7B,IAAI,EAAE;;;;;;yBAMe;aACrB,CAAC,CAAC;YAEH,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YACrD,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YACvD,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACxD,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAC7E,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE;QAC/B,EAAE,CAAC,wCAAwC,EAAE,KAAK,IAAI,EAAE;YACvD,MAAM,IAAI,GAAG,MAAM,WAAW,CAAC;gBAC9B,UAAU,EAAE,CAAC,eAAe,CAAC;gBAC7B,IAAI,EAAE;;;;;yBAKe;aACrB,CAAC,CAAC;YAEH,MAAM,OAAO,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;YAC1B,MAAM,gBAAgB,GAAG,EAAE,CAAC;YAC5B,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;YACpD,IAAI,CAAC,YAAY,CAAC,WAAW,CAC5B,IAAI,aAAa,CAAC,SAAS,EAAE;gBAC5B,OAAO,EAAE,gBAAgB;aACzB,CAAC,EACF,QAAQ,CACR,CAAC;YACF,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;YAC5B,MAAM,CAAC,OAAO,CAAC,CAAC,gBAAgB,EAAE,CAAC;QACpC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,oDAAoD,EAAE,KAAK,IAAI,EAAE;YACnE,MAAM,IAAI,GAAG,MAAM,WAAW,CAAC;gBAC9B,UAAU,EAAE,CAAC,eAAe,CAAC;gBAC7B,IAAI,EAAE;;;;;yBAKe;aACrB,CAAC,CAAC;YAEH,MAAM,OAAO,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;YAC1B,MAAM,SAAS,GAAG,gBAAgB,CAAC;YACnC,MAAM,gBAAgB,GAAG,EAAE,CAAC;YAC5B,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;YACpD,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,SAAS,CAAC;YACpC,IAAI,CAAC,YAAY,CAAC,WAAW,CAC5B,IAAI,aAAa,CAAC,SAAS,EAAE;gBAC5B,OAAO,EAAE,gBAAgB;aACzB,CAAC,EACF,QAAQ,CACR,CAAC;YACF,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;YAC5B,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2DAA2D,EAAE,KAAK,IAAI,EAAE;YAC1E,MAAM,IAAI,GAAG,MAAM,WAAW,CAAC;gBAC9B,UAAU,EAAE,CAAC,eAAe,CAAC;gBAC7B,IAAI,EAAE;;;;;yBAKe;aACrB,CAAC,CAAC;YAEH,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC","sourcesContent":["import { newSpecPage } from '@stencil/core/testing';\nimport { OntarioTextarea } from '../ontario-textarea';\n\ndescribe('ontario-textarea', () => {\n\tdescribe('snapshot', () => {\n\t\tit('should render the expected html', async () => {\n\t\t\tconst page = await newSpecPage({\n\t\t\t\tcomponents: [OntarioTextarea],\n\t\t\t\thtml: `<ontario-textarea name=\"ontario-textarea\" element-id=\"ontario-textarea\" caption='{\"captionText\": \"Ontario Textarea\"}'></ontario-textarea>`,\n\t\t\t});\n\n\t\t\texpect(page.root).toMatchSnapshot();\n\t\t});\n\t});\n\n\tdescribe('render', () => {\n\t\tit('should render a default textarea element', async () => {\n\t\t\tconst page = await newSpecPage({\n\t\t\t\tcomponents: [OntarioTextarea],\n\t\t\t\thtml: `<ontario-textarea name=\"ontario-textarea\" element-id=\"ontario-textarea\" caption='{\"captionText\": \"Ontario Textarea\"}'></ontario-textarea>`,\n\t\t\t});\n\t\t\texpect(page.root).toEqualHtml(`\n\t\t\t\t<ontario-textarea name=\"ontario-textarea\" element-id=\"ontario-textarea\" caption='{\"captionText\": \"Ontario Textarea\"}'>\n\t\t\t\t\t<mock:shadow-root>\n\t\t\t\t\t\t<div class=\"ontario-form-group\">\n\t\t\t\t\t\t\t<label htmlfor=\"ontario-textarea\" class=\"ontario-label\">\n\t\t\t\t\t\t\t\tOntario Textarea\n\t\t\t\t\t\t\t\t<span class=\"ontario-label__flag\">\n\t\t\t\t\t\t\t\t\t(optional)\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<textarea class=\"ontario-textarea\" id=\"ontario-textarea\" name=\"ontario-textarea\" value=\"\"></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</mock:shadow-root>\n\t\t\t\t</ontario-textarea>\n\t\t\t`);\n\t\t});\n\n\t\tit('should reflect attributes/props being set', async () => {\n\t\t\tconst page = await newSpecPage({\n\t\t\t\tcomponents: [OntarioTextarea],\n\t\t\t\thtml: `<ontario-textarea\n\t\t\t\t\tname=\"textarea-name\"\n\t\t\t\t\trequired=\"true\"\n\t\t\t\t\telement-id=\"textarea-id\"\n\t\t\t\t\tvalue=\"textarea value\"\n\t\t\t\t\tcaption='{\"captionText\": \"Ontario Textarea\"}'\n\t\t\t\t></ontario-textarea>`,\n\t\t\t});\n\n\t\t\texpect(page.rootInstance.name).toBe('textarea-name');\n\t\t\texpect(page.rootInstance.value).toBe('textarea value');\n\t\t\texpect(page.rootInstance.elementId).toBe('textarea-id');\n\t\t\texpect(page.rootInstance.captionState.captionText).toBe('Ontario Textarea');\n\t\t});\n\t});\n\n\tdescribe('events/methods', () => {\n\t\tit('should emit a keyboard event on change', async () => {\n\t\t\tconst page = await newSpecPage({\n\t\t\t\tcomponents: [OntarioTextarea],\n\t\t\t\thtml: `<ontario-textarea\n\t\t\t\t\tname=\"textarea-name\"\n\t\t\t\t\trequired=\"true\"\n\t\t\t\t\telement-id=\"textarea-id\"\n\t\t\t\t\tcaption=\"Ontario Textarea\"\n\t\t\t\t></ontario-textarea>`,\n\t\t\t});\n\n\t\t\tconst emitSpy = jest.fn();\n\t\t\tconst leftArrowKeyCode = 37;\n\t\t\tpage.doc.addEventListener('inputOnChange', emitSpy);\n\t\t\tpage.rootInstance.handleEvent(\n\t\t\t\tnew KeyboardEvent('keydown', {\n\t\t\t\t\tkeyCode: leftArrowKeyCode,\n\t\t\t\t}),\n\t\t\t\t'change',\n\t\t\t);\n\t\t\tawait page.waitForChanges();\n\t\t\texpect(emitSpy).toHaveBeenCalled();\n\t\t});\n\n\t\tit('should update the textarea value on a change event', async () => {\n\t\t\tconst page = await newSpecPage({\n\t\t\t\tcomponents: [OntarioTextarea],\n\t\t\t\thtml: `<ontario-textarea\n\t\t\t\t\tname=\"textarea-name\"\n\t\t\t\t\trequired=\"true\"\n\t\t\t\t\telement-id=\"textarea-id\"\n\t\t\t\t\tcaption=\"Ontario Textarea\"\n\t\t\t\t></ontario-textarea>`,\n\t\t\t});\n\n\t\t\tconst emitSpy = jest.fn();\n\t\t\tconst testValue = 'This is a test';\n\t\t\tconst leftArrowKeyCode = 37;\n\t\t\tpage.doc.addEventListener('inputOnChange', emitSpy);\n\t\t\tpage.rootInstance.value = testValue;\n\t\t\tpage.rootInstance.handleEvent(\n\t\t\t\tnew KeyboardEvent('keydown', {\n\t\t\t\t\tkeyCode: leftArrowKeyCode,\n\t\t\t\t}),\n\t\t\t\t'change',\n\t\t\t);\n\t\t\tawait page.waitForChanges();\n\t\t\texpect(page.rootInstance.value).toBe(testValue);\n\t\t});\n\n\t\tit('should return the textarea id when using the getId method', async () => {\n\t\t\tconst page = await newSpecPage({\n\t\t\t\tcomponents: [OntarioTextarea],\n\t\t\t\thtml: `<ontario-textarea\n\t\t\t\t\tname=\"textarea-name\"\n\t\t\t\t\trequired=\"true\"\n\t\t\t\t\telement-id=\"textarea-id\"\n\t\t\t\t\tcaption=\"Ontario Textarea\"\n\t\t\t\t></ontario-textarea>`,\n\t\t\t});\n\n\t\t\texpect(page.rootInstance.getId()).toEqual('textarea-id');\n\t\t});\n\t});\n});\n"]}